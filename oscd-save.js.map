{"version":3,"file":"oscd-save.js","sources":["../../oscd-save.ts"],"sourcesContent":["import { html, LitElement } from 'lit';\nimport { property } from 'lit/decorators.js';\n\nexport default class OscdSave extends LitElement {\n  @property() doc!: XMLDocument;\n\n  @property() docName!: string;\n\n  async run() {\n    if (this.doc) {\n      const blob = new Blob([new XMLSerializer().serializeToString(this.doc)], {\n        type: 'application/xml',\n      });\n\n      const a = document.createElement('a');\n      a.download = this.docName;\n      a.href = URL.createObjectURL(blob);\n      a.dataset.downloadurl = ['application/xml', a.download, a.href].join(':');\n      a.style.display = 'none';\n      document.body.appendChild(a);\n      a.click();\n      document.body.removeChild(a);\n      setTimeout(() => {\n        URL.revokeObjectURL(a.href);\n      }, 5000); // TODO(ca-d): discuss revoke timeout length\n    }\n  }\n\n  render() {\n    return html`<button @click=${() => this.run()}>Save project</button>`;\n  }\n}\n"],"names":["LitElement","html","property"],"mappings":";;;;;;;AAGqB,MAAA,QAAS,SAAQA,CAAU,CAAA;AAK9C,IAAA,MAAM,GAAG,GAAA;QACP,IAAI,IAAI,CAAC,GAAG,EAAE;AACZ,YAAA,MAAM,IAAI,GAAG,IAAI,IAAI,CAAC,CAAC,IAAI,aAAa,EAAE,CAAC,iBAAiB,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE;AACvE,gBAAA,IAAI,EAAE,iBAAiB;AACxB,aAAA,CAAC,CAAC;YAEH,MAAM,CAAC,GAAG,QAAQ,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;AACtC,YAAA,CAAC,CAAC,QAAQ,GAAG,IAAI,CAAC,OAAO,CAAC;YAC1B,CAAC,CAAC,IAAI,GAAG,GAAG,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC;YACnC,CAAC,CAAC,OAAO,CAAC,WAAW,GAAG,CAAC,iBAAiB,EAAE,CAAC,CAAC,QAAQ,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;AAC1E,YAAA,CAAC,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;AACzB,YAAA,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;YAC7B,CAAC,CAAC,KAAK,EAAE,CAAC;AACV,YAAA,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;YAC7B,UAAU,CAAC,MAAK;AACd,gBAAA,GAAG,CAAC,eAAe,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;AAC9B,aAAC,EAAE,IAAI,CAAC,CAAC;AACV,SAAA;KACF;IAED,MAAM,GAAA;QACJ,OAAOC,CAAI,CAAA,CAAA,eAAA,EAAkB,MAAM,IAAI,CAAC,GAAG,EAAE,CAAA,sBAAA,CAAwB,CAAC;KACvE;AACF,CAAA;AA3Ba,UAAA,CAAA;AAAX,IAAAC,CAAQ,EAAE;AAAmB,CAAA,EAAA,QAAA,CAAA,SAAA,EAAA,KAAA,EAAA,KAAA,CAAA,CAAA,CAAA;AAElB,UAAA,CAAA;AAAX,IAAAA,CAAQ,EAAE;AAAkB,CAAA,EAAA,QAAA,CAAA,SAAA,EAAA,SAAA,EAAA,KAAA,CAAA,CAAA;;;;"}